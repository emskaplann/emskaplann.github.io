(this["webpackJsonpto-do-app-frontend"]=this["webpackJsonpto-do-app-frontend"]||[]).push([[0],{104:function(e,t,a){e.exports=a(183)},109:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),s=(a(109),a(8)),l=a(9),i=a(11),u=a(10),m=a(12),p=a(193),h=a(35),f=a.n(h),d=(a(118),function(e,t){return!!e.pathname.includes(t)}),j=function(e){var t=e.location,a=e.history,n=e.children,o=e.firstProjectId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{position:"fixed"},onSelect:function(e){var n="/"+e;t.pathname!==n&&a.push(n)}},r.a.createElement(f.a.Toggle,null),r.a.createElement(f.a.Nav,{defaultActiveKey:"/dashboard"},r.a.createElement(h.NavItem,{eventKey:"dashboard",active:d(t,"/dashboard")},r.a.createElement(h.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})),r.a.createElement(h.NavText,null,"DashBoard")),r.a.createElement(h.NavItem,{eventKey:"projects/".concat(o),active:d(t,"/projects")},r.a.createElement(h.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-list-alt",style:{fontSize:"1.75em"}})),r.a.createElement(h.NavText,null,"Projects")))),n)},k=a(40),E=a(188),g=a(191),b=a(195),v=function e(t){var a=this;Object(s.a)(this,e),this.createUser=function(e){fetch("".concat(a.workingURL,"/users"),{method:"POST",headers:{"content-type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){var t=e.token,n=e.user_id;localStorage.token=t,localStorage.userId=n,a.component.setState({token:t,loggedInUserId:n})}))},this.login=function(e){fetch("".concat(a.workingURL,"/login"),{method:"POST",headers:{"content-type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){var t=e.token,n=e.user_id;localStorage.token=t,localStorage.userId=n,a.component.setState({token:t,loggedInUserId:n,loggedIn:!0})}))},this.component=t,this.workingURL="https://arcane-sands-50858.herokuapp.com"},y=a(38),S=function(e,t,a,n){e?new v(n).createUser({username:t,password:a}):function(e,t,a){new v(a).login({username:e,password:t})}(t,a,n)},O=function(e){var t=e.parent,a=e.bool,o=Object(n.useState)(""),c=Object(k.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)(""),u=Object(k.a)(i,2),m=u[0],p=u[1],h=Object(n.useState)(!1),f=Object(k.a)(h,2),d=f[0],j=f[1];return a?r.a.createElement(y.a,{to:"/dashboard"}):r.a.createElement(E.a,{className:"d-flex justify-content-center flex-column  h-100"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"pt-5"},d?"Create New Account":"Log In")),r.a.createElement("div",{className:"d-flex flex-row w-100 h-100  flex-fill justify-content-center "},r.a.createElement(g.a,null,r.a.createElement(g.a.Group,{controlId:"formGroupEmail"},r.a.createElement(g.a.Label,null,"Username"),r.a.createElement(g.a.Control,{placeholder:"Username",value:s,onChange:function(e){return l(e.target.value)}})),r.a.createElement(g.a.Group,{controlId:"formGroupPassword"},r.a.createElement(g.a.Label,null,"Password"),r.a.createElement(g.a.Control,{type:"Password",placeholder:"Password",value:m,onChange:function(e){return p(e.target.value)}})))),r.a.createElement("div",{className:"w-50 d-flex align-self-center justify-content-center"},r.a.createElement(b.a,{size:"sm",style:{backgroundColor:"#db3d44",borderColor:"#db3d44"},onClick:function(e){return S(d,s,m,t)},variant:"primary"},d?"Create Account!":"Log In!"),r.a.createElement(b.a,{size:"sm",style:{backgroundColor:"#db3d44",borderColor:"#db3d44"},onClick:function(e){return j(!d)},variant:"primary",className:"ml-5 btn-outline-primaryd"},d?"Log In!":"Sign Up!")))},C=a(30),w=a(99),N=a.n(w),P=a(190),T=a(189),I=a(98),L=a(60),M=a.n(L);a(95);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={show:a.props.show,project:{date:"",description:"",name:"",priority:""}},a.handleName=function(e){return a.setState({project:z({},a.state.project,{name:e})})},a.handleDesc=function(e){return a.setState({project:z({},a.state.project,{description:e})})},a.handleChange=function(e){return a.setState({project:z({},a.state.project,{date:e})})},a.handleSelectChange=function(e){return a.setState({project:z({},a.state.project,{priority:e})})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(P.a,{show:this.props.show},r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"Enter New Project Details")),r.a.createElement(P.a.Body,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Group,{as:T.a,controlId:"formProName"},r.a.createElement(g.a.Label,{column:!0,sm:"2"},r.a.createElement("small",null,"Name:")),r.a.createElement(I.a,{sm:"10"},r.a.createElement(g.a.Control,{onChange:function(t){return e.handleName(t.target.value)},value:this.state.project.name}))),r.a.createElement(g.a.Group,{as:T.a,controlId:"formProDesc"},r.a.createElement(g.a.Label,{column:!0,sm:"2"},r.a.createElement("small",null,"Description:")),r.a.createElement(I.a,{sm:"10"},r.a.createElement(g.a.Control,{onChange:function(t){return e.handleDesc(t.target.value)},value:this.state.project.description}))),r.a.createElement(g.a.Group,{as:T.a,controlId:"formProPriority"},r.a.createElement(I.a,{sm:"2"},r.a.createElement(g.a.Label,null,r.a.createElement("small",null,"Priority:"))),r.a.createElement(I.a,{sm:"10"},r.a.createElement(g.a.Control,{as:"select",onChange:function(t){return e.handleSelectChange(t.target.value)}},r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"high"},"High")))),r.a.createElement(g.a.Group,{as:T.a,controlId:"formProDeadline"},r.a.createElement(I.a,{sm:"2"},r.a.createElement(g.a.Label,null,r.a.createElement("small",null,"Deadline:"))),r.a.createElement(I.a,{sm:"10"},r.a.createElement(M.a,{selected:this.state.project.date,onChange:this.handleChange}))))),r.a.createElement(P.a.Footer,null,r.a.createElement(b.a,{size:"sm",variant:"secondary",onClick:this.props.handleModalClose},"Close"),r.a.createElement(b.a,{size:"sm",onClick:function(t){return e.props.handleProjectSubmit(e.state.project)},variant:"primary"},"Create Project")))}}]),t}(r.a.Component),A=a(194),U=a(192),H=function(e){var t=e.tasks,a=e.dateFromState,n=e.completeTask,o=t.filter((function(e){return new Date(e.deadline).setHours(0,0,0,0).valueOf()<=a.setHours(0,0,0,0).valueOf()}));return o=o.map((function(e){return e.spanText=new Date(e.deadline).setHours(0,0,0,0).valueOf()===a.setHours(0,0,0,0).valueOf()?"Due Today":"Past Due",e})),r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(A.a.Header,{style:{backgroundColor:"#0033CC",color:"#fff"}},"Upcoming Tasks ",r.a.createElement("i",{className:"fa fa-fw fa-caret-up",style:{fontSize:"1em",marginLeft:5}})),o.map((function(e){return r.a.createElement(U.a.Item,{className:"d-flex",key:"list-group-item-".concat(e.id)},e.title,function(e,t,a){return"Due Today"===e?r.a.createElement("span",{className:"flex-fill text-right"},e,r.a.createElement("i",{onClick:function(){return t(a.id)},className:"fa fa-fw fa-check",style:{fontSize:"1.5em",color:"#d3d3d3",marginLeft:3}})):r.a.createElement("span",{className:"flex-fill text-right"},r.a.createElement("i",{style:{color:"red"}},e),r.a.createElement("i",{onClick:function(){return t(a.id)},className:"fa fa-fw fa-check",style:{fontSize:"1.5em",color:"#d3d3d3",marginLeft:3}}))}(e.spanText,n,e))})),0===o.length?r.a.createElement("h5",{style:{marginTop:5,alignSelf:"center"}},"No Upcoming Task!"):console.log(o)))},F=function(e){var t=e.tasks,a=(e.completeTask,new Date);a.setDate(a.getDate()-7);var n=t.filter((function(e){return e.is_completed&&new Date(e.deadline).valueOf()>a.setHours(0,0,0,0).valueOf()})).sort((function(e,t){return t.id-e.id})).slice(0,5);return r.a.createElement(A.a,{style:{width:"350px",maxWidth:"100%"}},r.a.createElement(A.a.Header,{style:{backgroundColor:"#669900",color:"#fff"}},"Recently Completed Tasks ",r.a.createElement("i",{className:"fa fa-fw fa-check-square-o",style:{fontSize:"1em",marginLeft:5}})),n.map((function(e,t){return r.a.createElement(U.a.Item,{key:"task-item-".concat(e.id)},r.a.createElement("div",{className:"float-left"},e.title),r.a.createElement("div",{className:"float-right"},r.a.createElement("i",{className:"fa fa-fw fa-check",style:{fontSize:"1.5em",color:"green"}})))})),0===n.length?r.a.createElement("h5",{style:{marginTop:5,alignSelf:"center"}},"No Completed Task!"):console.log(n))},R=a(44),G=function(e,t){return r.a.createElement("div",{className:"row mx-auto",key:"row-".concat(t),style:{marginTop:10}},e.map((function(e){return r.a.createElement(I.a,{key:"project-".concat(e.id),sm:4},r.a.createElement(R.b,{to:"/projects/".concat(e.id)},r.a.createElement(A.a,{key:"project-".concat(e.id)},r.a.createElement(A.a.Header,{style:{color:"#000000"}},e.name))))})))},B=function(e){var t=e.projects,a=e.openModal;return r.a.createElement(A.a,{className:"mb-3"},r.a.createElement(A.a.Header,{style:{backgroundColor:"#0099FF",color:"#fff"}},r.a.createElement("div",{className:"float-left"},"My Projects ",r.a.createElement("i",{className:"fa fa-fw fa-th-large",style:{fontSize:"1em",marginLeft:5}})),r.a.createElement("div",{className:"float-right",onClick:function(){return a()}},r.a.createElement("strong",null,"New"),r.a.createElement("i",{className:"fa fa-fw fa-plus-square",style:{fontSize:"1em",marginLeft:5}}))),r.a.createElement(A.a.Body,null,function(e){return function(e){for(var t=[],a=0;a<e.length;a+=3)t.push(e.slice(a,a+3));return t}(e).map((function(e,t){return G(e,t)}))}(t)))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){return a.setState({date:e})},a.openModal=function(){return a.setState({showNPM:!0})},a.handleModalClose=function(){return a.setState({showNPM:!1})},a.allTasks=function(){return a.props.allTasks},a.handleProjectSubmit=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{userId:a.props.authProps.loggedInUserId});a.props.projectService.postProject(t),a.setState({showNPM:!1})},a.completeTask=function(e){return a.props.taskService.completeTask(e)},a.state={userId:1,showNPM:!1,date:new Date,inbox:[],trash:[],upcomingTasks:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement(D,{handleProjectSubmit:this.handleProjectSubmit,show:this.state.showNPM,handleModalClose:this.handleModalClose}),r.a.createElement(T.a,null,r.a.createElement(I.a,{sm:3},r.a.createElement(N.a,{className:"mb-3",onChange:this.onChange,value:this.state.date})),r.a.createElement(I.a,{sm:6},r.a.createElement(B,{projects:this.props.projects,openModal:this.openModal}),r.a.createElement(H,{dateFromState:this.state.date,tasks:this.allTasks().filter((function(e){return!e.is_completed})),completeTask:this.completeTask})),r.a.createElement(I.a,{sm:3},r.a.createElement(F,{tasks:this.allTasks(),completeTask:this.completeTask}))))}}]),t}(r.a.Component),W=a(18),q=function(){function e(t){Object(s.a)(this,e),this.component=t,this.productionURL="https://arcane-sands-50858.herokuapp.com",this.devURL="http://localhost:3000"}return Object(l.a)(e,[{key:"fetchAll",value:function(e){var t=this;fetch("".concat(this.productionURL,"/tags")).then((function(e){return e.json()})).then((function(e){return t.component.setState({tags:e})}))}}]),e}(),K=function(e){var t=e.project,a=e.className,o=e.projectService,c=Object(n.useState)(!1),s=Object(k.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(t.name),m=Object(k.a)(u,2),p=m[0],h=m[1],f=Object(n.useState)(t.desc),d=Object(k.a)(f,2),j=d[0],E=d[1];return r.a.createElement(A.a,{className:a+" d-flex"},r.a.createElement(A.a.Header,{style:{backgroundColor:"#0099FF",color:"#fff"}},r.a.createElement(T.a,null,r.a.createElement(I.a,{sm:10,className:"my-auto"},l?r.a.createElement(g.a.Control,{value:p,placeholder:t.name,onChange:function(e){return h(e.target.value)}}):t.name),r.a.createElement(I.a,{sm:2,className:"text-right"},r.a.createElement("div",{variant:"light",onClick:function(){return l?function(e,t,a,n,r){n.updateProject(r.id,{name:t,description:a}),e(!1)}(i,p,j,o,t):i(!0)}},r.a.createElement("strong",null,l?"Done":"Edit"),r.a.createElement("i",{className:l?"fa fa-fw fa-check":"fa fa-fw fa-pencil",style:{fontSize:"1em",marginLeft:5}}))))),r.a.createElement(A.a.Body,null,l?r.a.createElement(g.a.Control,{value:j,placeholder:t.description,onChange:function(e){return E(e.target.value)}}):t.description))},V=a(27),$=function e(t){var a=this;Object(s.a)(this,e),this.fetchNotesForProject=function(e){fetch("".concat(a.workingURL,"/projects/").concat(e,"/notes"),{headers:{Authorization:a.component.props.authProps.token}}).then((function(e){return e.json()})).then((function(e){return a.component.setState({notes:e})}))},this.createNote=function(e,t){fetch("".concat(a.workingURL,"/projects/").concat(t,"/notes"),{headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e),method:"POST"}).then((function(e){return e.json()})).then((function(e){a.component.setState({notes:[].concat(Object(V.a)(a.component.state.notes),[e])})}))},this.deleteNote=function(e){fetch("".concat(a.workingURL,"/notes/").concat(e),{method:"DELETE",headers:{Authorization:a.component.props.authProps.token,"content-type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=a.component.state.notes;a.component.setState({notes:t.filter((function(t){return t.id!==e.id}))})}))},this.component=t,this.workingURL="https://arcane-sands-50858.herokuapp.com"},Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){a.noteService.createNote(e,a.props.project.id),a.openOrCloseModal()},a.openOrCloseModal=function(){return a.setState({isModalHidden:!a.state.isModalHidden})},a.renderForm=function(){return r.a.createElement(g.a,null,r.a.createElement(g.a.Group,{as:T.a,controlId:"formProName",className:"text-center"},r.a.createElement(I.a,{sm:"9"},r.a.createElement(g.a.Control,{as:"textarea",autoFocus:!0,onChange:function(e){return a.setState({text:e.target.value})},placeholder:"Enter text here...",value:a.state.text})),r.a.createElement(I.a,{sm:"3",className:"my-auto"},r.a.createElement(b.a,{onClick:function(e){return a.handleSubmit({note:{text:a.state.text}})},variant:"primary"},"Add Note"))))},a.state={isModalHidden:!1,notes:[],text:""},a.noteService=new $(Object(W.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.noteService.fetchNotesForProject(this.props.project.id)}},{key:"render",value:function(){var e=this,t=this.props.className;return r.a.createElement(A.a,{className:t},r.a.createElement(A.a.Header,{style:{backgroundColor:"#990033",color:"#fff"}},"Notes ",r.a.createElement("i",{className:"fa fa-fw fa-pencil-square-o",style:{fontSize:"1em",marginLeft:5}}),r.a.createElement("div",{className:"float-right",onClick:this.openOrCloseModal},r.a.createElement("strong",null,this.state.isModalHidden?"Cancel":"New"),r.a.createElement("i",{className:"fa fa-fw fa-plus-square",style:{fontSize:"1em",marginLeft:5}}))),r.a.createElement(A.a.Body,null,this.state.isModalHidden?this.renderForm():null,this.state.notes.map((function(t){return r.a.createElement(U.a.Item,{className:"d-flex",key:"note-item-".concat(t.id),style:{border:"1px solid #d3d3d3"}},t.text,r.a.createElement("span",{className:"flex-fill text-right",onClick:function(){return e.noteService.deleteNote(t.id)}},r.a.createElement("i",{className:"fa fa-fw fa-trash",style:{fontSize:"1.25em",color:"darkgray"}})))}))))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).completeItem=function(e){a.props.itemService.completeItem(e,!a.props.item.is_completed,a.props.checklistId)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(A.a.Body,{key:"checklist-item".concat(this.props.item.id)},r.a.createElement(U.a.Item,{key:this.props.item.id},r.a.createElement("div",{className:"float-left"},r.a.createElement("i",{onClick:function(){return e.completeItem(e.props.item.id)},className:"fa fa-fw fa-check",style:{fontSize:"1.5em",color:this.props.item.is_completed?"green":"silver"}}),this.props.item.text),r.a.createElement("div",{className:"float-right"},r.a.createElement("i",{className:"fa fa-fw fa-trash",style:{fontSize:"1.25em",color:"darkGray"},onClick:function(){return e.props.deleteItem(e.props.item.id)}})),r.a.createElement("br",null))))}}]),t}(r.a.Component),Y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).renderItems=function(){var t=Object(V.a)(e.props.checklist.items);return t.sort((function(e,t){return e.id-t.id})),t.map((function(t){return r.a.createElement(X,{checklistId:e.props.checklist.id,itemService:e.props.itemService,authProps:e.props.authProps,key:t.id,item:t,deleteItem:e.deleteItem})}))},e.handleChange=function(t){return e.setState(Object(C.a)({},t.target.name,t.target.value))},e.handleClick=function(){return e.setState({addItem:!e.state.addItem})},e.handleSubmit=function(t){t.preventDefault(),e.props.itemService.createNewItem(e.props.checklist.id,{text:e.state.text}),e.setState({addItem:!1,text:""})},e.deleteItem=function(t){e.props.itemService.deleteItem(t,e.props.checklist.id)},e.renderForm=function(){var t=e.state.title;return r.a.createElement(g.a,{className:"pt-1 pb-1 pl-2",onSubmit:e.handleSubmit},r.a.createElement(T.a,null,r.a.createElement(I.a,{sm:"7"},r.a.createElement(g.a.Control,{placeholder:"text",name:"text",value:t,onChange:e.handleChange})),r.a.createElement(I.a,{sm:"2"},r.a.createElement(b.a,{onClick:e.handleSubmit},"Submit")),r.a.createElement(I.a,{sm:"2"},r.a.createElement(b.a,{variant:"danger",onClick:function(){return e.setState({addItem:!1,text:""})}},"Cancel"))))},e.state={showItems:!1,addItem:!1,text:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{key:this.props.checklist.id,className:"mb-3"},r.a.createElement(A.a,null,r.a.createElement(A.a.Header,null,r.a.createElement(T.a,null,r.a.createElement(I.a,{sm:8},this.props.checklist.title),r.a.createElement(I.a,{sm:2},r.a.createElement(b.a,{size:"sm",onClick:function(){return e.setState({showItems:!e.state.showItems})}},"Expand")),r.a.createElement(I.a,{sm:2,className:"my-auto pt-1"},r.a.createElement("i",{onClick:function(t){return e.handleClick()},className:"fa fa-fw fa-plus-square align-self-center",style:{fontSize:"1.5em",marginLeft:5}})))),this.state.addItem?this.renderForm():null,this.state.showItems?this.renderItems():null))}}]),t}(r.a.Component),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={newList:!1,title:""},a.handleChange=function(e){return a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleClick=function(){return a.setState({newList:!a.state.newList})},a.handleSubmit=function(e){a.props.checklistService.createChecklist(a.props.task.id,{title:a.state.title}),a.setState({title:"",newList:!1})},a.renderForm=function(){var e=a.state.title;return r.a.createElement(g.a,{className:"pt-1 pb-4 pl-2"},r.a.createElement(T.a,null,r.a.createElement(I.a,{sm:"7"},r.a.createElement(g.a.Control,{placeholder:"title",name:"title",value:e,onChange:a.handleChange})),r.a.createElement(I.a,{sm:"2"},r.a.createElement(b.a,{onClick:a.handleSubmit},"Submit")),r.a.createElement(I.a,{sm:"2"},r.a.createElement(b.a,{variant:"danger",onClick:function(){return a.setState({newList:!1})}},"Cancel"))))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(P.a,{show:this.props.show},r.a.createElement(P.a.Header,null,r.a.createElement("div",{className:"float-left",style:{color:"black"}},this.props.task.title),r.a.createElement("div",{className:"float-right"},r.a.createElement("i",{onClick:function(t){return e.handleClick()},className:"fa fa-fw fa-plus-square",style:{fontSize:"1.5em",marginLeft:5}}),r.a.createElement("i",{onClick:function(){return e.props.closeModal()},className:"fa fa-fw fa-times-circle",style:{fontSize:"1.5em"}}))),r.a.createElement(P.a.Body,null,this.state.newList?this.renderForm():null,this.props.checklists.map((function(t){return r.a.createElement(Y,{authProps:e.props.authProps,itemService:e.props.itemService,checklist:t,key:t.id})}))))}}]),t}(r.a.Component),ee=function e(t){var a=this;Object(s.a)(this,e),this.fetchChecklists=function(e){fetch("https://arcane-sands-50858.herokuapp.com/tasks/".concat(e,"/checklists"),{headers:{Authorization:a.component.props.authProps.token}}).then((function(e){return e.json()})).then((function(e){a.component.setState({checklists:e})}))},this.createChecklist=function(e,t){fetch("https://arcane-sands-50858.herokuapp.com/tasks/".concat(e,"/checklists"),{method:"POST",headers:{Authorization:a.component.props.authProps.token,"content-type":"application/json",Accept:"application/json"},body:JSON.stringify({checklist:t})}).then((function(e){return e.json()})).then((function(e){a.component.setState({checklists:[].concat(Object(V.a)(a.component.state.checklists),[e])})}))},this.component=t},te=function e(t){var a=this;Object(s.a)(this,e),this.createNewItem=function(e,t){fetch("https://arcane-sands-50858.herokuapp.com/checklists/".concat(e,"/items"),{method:"POST",headers:{Authorization:a.component.props.authProps.token,"content-type":"application/json",Accept:"application/json"},body:JSON.stringify({item:t})}).then((function(e){return e.json()})).then((function(t){var n=a.component.state.checklists.find((function(t){return t.id===e})),r=Object.assign({},n);r.items=[].concat(Object(V.a)(r.items),[t]),a.component.updateChecklistsWith(r)}))},this.completeItem=function(e,t,n){fetch("https://arcane-sands-50858.herokuapp.com/items/".concat(e),{method:"PATCH",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({item:{is_completed:t}})}).then((function(e){return e.json()})).then((function(e){var t=a.component.state.checklists.find((function(e){return e.id===n})),r=Object.assign({},t);r.items=r.items.map((function(t){return e.id===t.id?e:t})),a.component.updateChecklistsWith(r)}))},this.deleteItem=function(e,t){fetch("https://arcane-sands-50858.herokuapp.com/items/".concat(e),{method:"DELETE",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var n=a.component.state.checklists.find((function(e){return e.id===t})),r=Object.assign({},n);r.items=r.items.filter((function(t){return t.id!==e.id})),a.component.setState({checklists:a.component.state.checklists.map((function(e){return e.id===r.id?r:e}))})}))},this.component=t},ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){return a.setState({isModalHidden:!0})},a.updateChecklistsWith=function(e){a.setState({checklists:a.state.checklists.map((function(t){return t.id===e.id?e:t}))})},a.openModal=function(e){a.ChecklistService.fetchChecklists(e.id),a.setState({isModalHidden:!1,task:e})},a.state={isModalHidden:!0,task:{id:1},checklists:[]},a.ChecklistService=new ee(Object(W.a)(a)),a.itemService=new te(Object(W.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.tasks,o=t.openModal,c=t.style,s=t.completeTask;return r.a.createElement(A.a,{className:"mb-2"},r.a.createElement(Z,{itemService:this.itemService,checklistService:this.ChecklistService,authProps:this.props.authProps,task:this.state.task,show:!this.state.isModalHidden,checklists:this.state.checklists,closeModal:this.closeModal}),r.a.createElement(A.a.Header,{style:c},r.a.createElement("div",{className:"float-left"},a," ",r.a.createElement("i",{className:"fa fa-fw fa-th",style:{fontSize:"1em",marginLeft:5}})),"Completed Tasks"!==a?r.a.createElement("div",{className:"float-right",onClick:o},r.a.createElement("strong",null,"New"),r.a.createElement("i",{className:"fa fa-fw fa-plus-square",style:{fontSize:"1em",marginLeft:5}})):null),r.a.createElement(A.a.Body,null,n.map((function(t){return r.a.createElement("div",{key:"task-item".concat(t.id)},r.a.createElement(U.a.Item,{key:"task-item-".concat(t.id),className:"d-flex"},r.a.createElement("span",{className:"flex-grow-1",onClick:function(){return e.openModal(t)}},t.title),r.a.createElement("span",null,"Upcoming Tasks"===a?r.a.createElement("i",{onClick:function(){return s(t.id)},className:"fa fa-fw fa-check",style:{fontSize:"1.5em",color:"#d3d3d3",marginLeft:3}}):null)))}))))}}]),t}(r.a.Component);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={date:new Date,task:{deadline:"",title:"",projectId:a.props.project?a.props.project.id:1}},a.handleTitle=function(e){return a.setState({task:re({},a.state.task,{title:e})})},a.handleProjectSelect=function(e){return a.setState({task:re({},a.state.task,{projectId:e})})},a.handleChange=function(e){a.setState({date:e})},a.handleSelectChange=function(e){return a.setState({task:re({},a.state.task,{priority:e})})},a.handleSubmit=function(){var e=re({},a.state.task);e.deadline=a.state.date.toUTCString(),a.props.handleTaskSubmit(e),a.setState({task:{deadline:"",title:"",projectId:a.props.project?a.props.project.id:1}},(function(){return a.props.closeModal()}))},a.renderSelect=function(){return r.a.createElement(g.a.Control,{as:"select",onChange:function(e){return a.handleProjectSelect(e.target.value)},defaultValue:a.state.task.projectId},a.props.projects.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(P.a,{show:this.props.show},r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"New Task Form")),r.a.createElement(P.a.Body,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Group,{as:T.a,controlId:"formProName"},r.a.createElement(g.a.Label,{column:!0,sm:"2"},r.a.createElement("small",null,"Title:")),r.a.createElement(I.a,{sm:"10"},r.a.createElement(g.a.Control,{onChange:function(t){return e.handleTitle(t.target.value)},defaultValue:this.state.task.title}))),r.a.createElement(g.a.Group,{as:T.a,controlId:"formProDesc"},r.a.createElement(g.a.Label,{column:!0,sm:"2"},r.a.createElement("small",null,"Description:")),r.a.createElement(I.a,{sm:"10"},this.props.projects?this.renderSelect():this.props.project.name)),r.a.createElement(g.a.Group,{as:T.a,controlId:"formProDeadline"},r.a.createElement(I.a,{sm:"2"},r.a.createElement(g.a.Label,null,r.a.createElement("small",null,"Deadline:"))),r.a.createElement(I.a,{sm:"10"},r.a.createElement(M.a,{selected:this.state.date,onChange:this.handleChange}))))),r.a.createElement(P.a.Footer,null,r.a.createElement(b.a,{size:"sm",variant:"secondary",onClick:this.props.closeModal},"Close"),r.a.createElement(b.a,{size:"sm",onClick:function(t){return e.handleSubmit()},variant:"primary"},"Create New Task")))}}]),t}(r.a.Component),ce=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).openOrCloseModal=function(){return e.setState({showNTM:!e.state.showNTM})},e.completeTask=function(t){e.props.taskService.completeTask(t)},e.state={tags:[],showNTM:!1},e.tagService=new q(Object(W.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props.project;if(!e)return null;var t=e.tasks.filter((function(e){return!e.is_completed})),a=e.tasks.filter((function(e){return e.is_completed}));return r.a.createElement(E.a,{fluid:!0},r.a.createElement(oe,{show:this.state.showNTM,closeModal:this.openOrCloseModal,project:this.props.project,handleTaskSubmit:this.props.handleTaskSubmit}),r.a.createElement(T.a,{className:"w-100"},r.a.createElement(I.a,{sm:7},r.a.createElement(K,{projectService:this.props.projectService,project:e,className:"mb-3"}),r.a.createElement(Q,{authProps:this.props.authProps,className:"mb-3",project:e,openModal:this.openOrCloseModal})),r.a.createElement(I.a,{sm:5},r.a.createElement(ae,{key:"length-of-tasks-".concat(t.length),completeTask:this.completeTask,authProps:this.props.authProps,title:"Upcoming Tasks",tasks:t,style:{backgroundColor:"#4d1411",color:"#fff"},openModal:this.openOrCloseModal}),r.a.createElement(ae,{key:"length-of-completedTasks-".concat(a.length),authProps:this.props.authProps,title:"Completed Tasks",tasks:a,style:{backgroundColor:"#669900",color:"#fff"}}))))}}]),t}(r.a.Component),se=(a(181),function e(t){var a=this;Object(s.a)(this,e),this.fetchProjects=function(e){fetch("".concat(a.productionURL,"/users/").concat(e,"/projects"),{headers:{Authorization:a.component.props.authProps.token}}).then((function(e){if(e.status>199&&e.status<300)return e.json();throw e.statusText})).then((function(e){var t=e.map((function(e){return e.tasks})).flat();a.component.setState({projects:e,allTasks:t})})).catch((function(e){return console.log(e)}))},this.postProject=function(e){fetch("".concat(a.productionURL,"/users/").concat(e.userId,"/projects"),{method:"POST",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return a.component.setState({projects:[].concat(Object(V.a)(a.component.state.projects),[e])})}))},this.postTask=function(e){fetch("".concat(a.productionURL,"/projects/").concat(e.projectId,"/tasks"),{method:"POST",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t=a.component.state.projects.find((function(t){return t.id===e.project_id})),n=Object.assign({},t);n.tasks=[].concat(Object(V.a)(n.tasks),[e]);var r=a.component.state.projects.map((function(e){return e.id===n.id?n:e}));a.component.setState({projects:r,allTasks:r.map((function(e){return e.tasks})).flat()})}))},this.updateProject=function(e,t){fetch("".concat(a.productionURL,"/projects/").concat(e),{method:"PATCH",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({project:t})}).then((function(e){return e.json()})).then((function(e){return a.component.setState({projects:a.component.state.projects.map((function(t){return t.id===e.id?e:t}))})}))},this.component=t,this.productionURL="https://arcane-sands-50858.herokuapp.com",this.devURL="http://localhost:3000"}),le=function e(t){var a=this;Object(s.a)(this,e),this.fetchAllTasksFor=function(e){fetch("".concat(a.workingURL,"/projects/").concat(e,"/tasks"),{headers:{Authorization:a.component.props.authProps.token}}).then((function(e){return e.json()})).then((function(e){return a.component.setState({tasks:e})}))},this.completeTask=function(e){fetch("".concat(a.workingURL,"/tasks/").concat(e),{method:"PATCH",headers:{Authorization:a.component.props.authProps.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({task:{is_completed:!0}})}).then((function(e){return e.json()})).then((function(e){var t=a.component.state.projects.find((function(t){return t.id===e.project_id})),n=Object.assign({},t);n.tasks=n.tasks.map((function(t){return t.id===e.id?e:t}));var r=a.component.state.projects.map((function(e){return e.id===n.id?n:e}));a.component.setState({projects:r,allTasks:r.map((function(e){return e.tasks})).flat()})}))},this.component=t,this.workingURL="https://arcane-sands-50858.herokuapp.com"},ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).findProjectWith=function(e){return a.state.projects.find((function(t){return t.id===parseInt(e)}))},a.handleTaskSubmit=function(e){return a.projectService.postTask(e)},a.state={token:null,loggedInUserId:null,projects:[],allTasks:[]},a.projectService=new se(Object(W.a)(a)),a.taskService=new le(Object(W.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.projectService.fetchProjects(this.props.authProps.loggedInUserId)}},{key:"render",value:function(){switch(this.props.children){case _:return r.a.createElement(this.props.children,{allTasks:this.state.allTasks,projects:this.state.projects,projectService:this.projectService,taskService:this.taskService,authProps:this.props.authProps});case ce:return r.a.createElement(this.props.children,{projectService:this.projectService,taskService:this.taskService,project:this.findProjectWith(this.props.id),authProps:this.props.authProps,handleTaskSubmit:this.handleTaskSubmit});default:return r.a.createElement(this.props.children,{tasks:this.state.allTasks,taskService:this.taskService,projects:this.state.projects,handleTaskSubmit:this.handleTaskSubmit,authProps:this.props.authProps})}}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).authProps=function(){return{token:a.state.token,loggedInUserId:a.state.loggedInUserId}},a.logout=function(){localStorage.clear(),a.setState({token:null,loggedInUserId:null})},a.fetchForFirstProjectId=function(){fetch("https://arcane-sands-50858.herokuapp.com/users/".concat(a.state.loggedInUserId,"/projects"),{headers:{Authorization:a.state.token}}).then((function(e){if(e.status>199&&e.status<300)return e.json();throw e.statusText})).then((function(e){a.setState({projects:e})})).catch((function(e){return console.log(e)}))},a.showSideNavWithMain=function(e){var t=e.location,n=e.history;return r.a.createElement(j,{location:t,firstProjectId:a.state.projects[0].id,history:n},r.a.createElement("main",{style:{marginLeft:75,marginTop:25}},r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/dashboard",exact:!0,component:function(e){return r.a.createElement(ie,{children:_,authProps:a.authProps()})}}),r.a.createElement(y.b,{path:"/projects/:id",component:function(e){return r.a.createElement(ie,{children:ce,id:Object(y.g)().id,authProps:a.authProps()})}}))))},a.state={token:null,loggedInUserId:null,projects:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({token:localStorage.token,loggedInUserId:localStorage.userId},this.fetchForFirstProjectId)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"dark",style:{backgroundColor:"#db3d44"}},r.a.createElement(p.a.Brand,{href:"#home"},r.a.createElement("i",{className:"fa fa-fw fa-check-square-o",style:{fontSize:"1em",marginLeft:60}}),r.a.createElement("span",{className:"ml-2"},"ToDo App")),this.state.token?r.a.createElement(p.a.Collapse,{className:"justify-content-end",onClick:function(){return e.logout()},style:{color:"#fff"}},r.a.createElement("strong",null,"Logout"),r.a.createElement("i",{className:"fa fa-fw fa-sign-out",style:{fontSize:"1em",marginLeft:5}})):null),this.state.token?this.showSideNavWithMain(this.props):r.a.createElement(O,{parent:this}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(182);c.a.render(r.a.createElement(R.a,null,r.a.createElement(y.b,{render:function(e){var t=e.location,a=e.history;return r.a.createElement(ue,{location:t,history:a})}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.2885ed69.chunk.js.map