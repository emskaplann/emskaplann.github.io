{"ast":null,"code":"import _classCallCheck from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var UserService=function UserService(component){var _this=this;_classCallCheck(this,UserService);this.createUser=function(user){fetch(\"\".concat(_this.workingURL,\"/users\"),{//eslint-disable-line\nmethod:'POST',headers:{'content-type':'application/json',Accept:'application/json'},body:JSON.stringify({user:user})}).then(function(response){return response.json();}).then(function(_ref){var token=_ref.token,user_id=_ref.user_id;localStorage.token=token;localStorage.userId=user_id;_this.component.setState({token:token,loggedInUserId:user_id});});};this.login=function(user){fetch(\"\".concat(_this.workingURL,\"/login\"),{//eslint-disable-line\nmethod:'POST',headers:{'content-type':'application/json',Accept:'application/json'},body:JSON.stringify({user:user})}).then(function(response){return response.json();}).then(function(_ref2){var token=_ref2.token,user_id=_ref2.user_id;localStorage.token=token;localStorage.userId=user_id;_this.component.setState({token:token,loggedInUserId:user_id,loggedIn:true});});};this.component=component;this.workingURL='https://arcane-sands-50858.herokuapp.com';// this.workingURL = 'http://localhost:3000'\n};export default UserService;","map":{"version":3,"sources":["/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/src/services/UserService.js"],"names":["UserService","component","createUser","user","fetch","workingURL","method","headers","Accept","body","JSON","stringify","then","response","json","token","user_id","localStorage","userId","setState","loggedInUserId","login","loggedIn"],"mappings":"iKAAMA,CAAAA,W,CACJ,qBAAYC,SAAZ,CAAuB,uDAOvBC,UAPuB,CAOV,SAACC,IAAD,CAAU,CACrBC,KAAK,WAAI,KAAI,CAACC,UAAT,WAA6B,CAAE;AAClCC,MAAM,CAAE,MADwB,CAEhCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAFuB,CAMhCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBR,IAAI,CAAJA,IADmB,CAAf,CAN0B,CAA7B,CAAL,CAUGS,IAVH,CAUQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAVhB,EAWGF,IAXH,CAWQ,cAAwB,IAArBG,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,CAC5BC,YAAY,CAACF,KAAb,CAAqBA,KAArB,CACAE,YAAY,CAACC,MAAb,CAAsBF,OAAtB,CACA,KAAI,CAACf,SAAL,CAAekB,QAAf,CAAwB,CACtBJ,KAAK,CAAEA,KADe,CAEtBK,cAAc,CAAEJ,OAFM,CAAxB,EAID,CAlBH,EAmBD,CA3BsB,MA6BvBK,KA7BuB,CA6Bf,SAAClB,IAAD,CAAU,CAChBC,KAAK,WAAI,KAAI,CAACC,UAAT,WAA6B,CAAE;AAClCC,MAAM,CAAE,MADwB,CAEhCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAFuB,CAMhCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBR,IAAI,CAAJA,IADmB,CAAf,CAN0B,CAA7B,CAAL,CAUGS,IAVH,CAUQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAVhB,EAWGF,IAXH,CAWQ,eAAwB,IAArBG,CAAAA,KAAqB,OAArBA,KAAqB,CAAdC,OAAc,OAAdA,OAAc,CAC5BC,YAAY,CAACF,KAAb,CAAqBA,KAArB,CACAE,YAAY,CAACC,MAAb,CAAsBF,OAAtB,CACA,KAAI,CAACf,SAAL,CAAekB,QAAf,CAAwB,CACtBJ,KAAK,CAAEA,KADe,CAEtBK,cAAc,CAAEJ,OAFM,CAGtBM,QAAQ,CAAE,IAHY,CAAxB,EAKD,CAnBH,EAoBD,CAlDsB,CACrB,KAAKrB,SAAL,CAAiBA,SAAjB,CACA,KAAKI,UAAL,CAAkB,0CAAlB,CACA;AACD,C,CAgDH,cAAeL,CAAAA,WAAf","sourcesContent":["class UserService {\n  constructor(component) {\n    this.component = component\n    this.workingURL = 'https://arcane-sands-50858.herokuapp.com'\n    // this.workingURL = 'http://localhost:3000'\n  }\n\n\n  createUser = (user) => {\n    fetch(`${this.workingURL}/users`, { //eslint-disable-line\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    })\n      .then(response => response.json())\n      .then(({ token, user_id }) => {\n        localStorage.token = token\n        localStorage.userId = user_id\n        this.component.setState({\n          token: token,\n          loggedInUserId: user_id,\n        })\n      })\n  }\n\n  login = (user) => {\n    fetch(`${this.workingURL}/login`, { //eslint-disable-line\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    })\n      .then(response => response.json())\n      .then(({ token, user_id }) => {\n        localStorage.token = token\n        localStorage.userId = user_id\n        this.component.setState({\n          token: token,\n          loggedInUserId: user_id,\n          loggedIn: true\n        })\n      })\n  }\n}\nexport default UserService\n"]},"metadata":{},"sourceType":"module"}