{"ast":null,"code":"import _classCallCheck from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Navbar}from'react-bootstrap';import SideNavPage from'./components/sub-components/SideNav.js';import LoginPage from'./components/main-components/LoginPage';import DashBoard from'./components/main-components/DashBoard.js';import Projects from'./components/main-components/Projects.js';import{Route,useParams,Switch}from'react-router-dom';import'./App.css';import{MainViewRenderProps}from'./components/main-components/MainViewRenderProps.js';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.authProps=function(){return{token:_this.state.token,loggedInUserId:_this.state.loggedInUserId};};_this.logout=function(){localStorage.clear();_this.setState({token:null,loggedInUserId:null});};_this.fetchForFirstProjectId=function(){fetch(\"https://arcane-sands-50858.herokuapp.com/users/\".concat(_this.state.loggedInUserId,\"/projects\"),{headers:{\"Authorization\":_this.state.token}}).then(function(response){if(response.status>199&&response.status<300)return response.json();throw response.statusText;}).then(function(projects){_this.setState({projects:projects});}).catch(function(reason){return console.log(reason);});};_this.showSideNavWithMain=function(_ref){var location=_ref.location,history=_ref.history;return React.createElement(SideNavPage,{location:location,firstProjectId:_this.state.projects[0].id,history:history},React.createElement(\"main\",{style:{marginLeft:75,marginTop:25}},React.createElement(Switch,null,React.createElement(Route,{path:\"/dashboard\",exact:true,component:function component(props){return React.createElement(MainViewRenderProps,{children:DashBoard,authProps:_this.authProps()});}}),React.createElement(Route,{path:\"/projects/:id\",component:function component(props){return React.createElement(MainViewRenderProps,{children:Projects,id:useParams().id,authProps:_this.authProps()});}}))));};_this.state={token:null,loggedInUserId:null,projects:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({token:localStorage.token,loggedInUserId:localStorage.userId},this.fetchForFirstProjectId);}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(Navbar,{variant:\"dark\",style:{backgroundColor:'#db3d44'}},React.createElement(Navbar.Brand,{href:\"#home\"},React.createElement(\"i\",{className:\"fa fa-fw fa-check-square-o\",style:{fontSize:'1em',marginLeft:60}}),React.createElement(\"span\",{className:\"ml-2\"},\"ToDo App\")),this.state.token?React.createElement(Navbar.Collapse,{className:\"justify-content-end\",onClick:function onClick(){return _this2.logout();},style:{color:'#fff'}},React.createElement(\"strong\",null,\"Logout\"),React.createElement(\"i\",{className:\"fa fa-fw fa-sign-out\",style:{fontSize:'1em',marginLeft:5}})):null),this.state.token?this.showSideNavWithMain(this.props):React.createElement(LoginPage,{parent:this}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/src/App.js"],"names":["React","Component","Navbar","SideNavPage","LoginPage","DashBoard","Projects","Route","useParams","Switch","MainViewRenderProps","App","props","authProps","token","state","loggedInUserId","logout","localStorage","clear","setState","fetchForFirstProjectId","fetch","headers","then","response","status","json","statusText","projects","catch","reason","console","log","showSideNavWithMain","location","history","id","marginLeft","marginTop","userId","backgroundColor","fontSize","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Navbar } from 'react-bootstrap';\nimport SideNavPage from './components/sub-components/SideNav.js';\nimport LoginPage from './components/main-components/LoginPage';\nimport DashBoard from './components/main-components/DashBoard.js'\nimport Projects from './components/main-components/Projects.js'\nimport { Route, useParams, Switch } from 'react-router-dom'\nimport './App.css';\nimport { MainViewRenderProps } from './components/main-components/MainViewRenderProps.js';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      token: null,\n      loggedInUserId: null,\n      projects: []\n    }\n  }\n\n  authProps = () => ({ token: this.state.token, loggedInUserId: this.state.loggedInUserId })\n\n  componentDidMount() {\n    this.setState({\n      token: localStorage.token,\n      loggedInUserId: localStorage.userId\n    }, this.fetchForFirstProjectId)\n  }\n\n  logout = () => {\n    localStorage.clear()\n    this.setState({\n      token: null,\n      loggedInUserId: null\n    })\n  }\n\n  fetchForFirstProjectId = () => {\n      fetch(`https://arcane-sands-50858.herokuapp.com/users/${this.state.loggedInUserId}/projects`, {\n        headers: {\n          \"Authorization\": this.state.token\n        }\n      }).then(response => {\n        if (response.status > 199 && response.status < 300) return response.json()\n        throw response.statusText\n      }).then(projects => {\n        this.setState({ projects })\n      }).catch(reason => console.log(reason))\n  }\n\n  showSideNavWithMain = ({ location, history }) => (\n    <SideNavPage location={location} firstProjectId={this.state.projects[0].id} history={history}>\n      <main style={{ marginLeft: 75, marginTop: 25 }}>\n        <Switch>\n          <Route path=\"/dashboard\" exact component={props => <MainViewRenderProps children={DashBoard} authProps={this.authProps()} />} />\n          <Route path=\"/projects/:id\" component={props => <MainViewRenderProps children={Projects} id={useParams().id} authProps={this.authProps()} />} />\n          {/* <Route path=\"/tasks\" component={props => <MainViewRenderProps children={Tasks} authProps={this.authProps()} />} /> */}\n        </Switch>\n      </main>\n    </SideNavPage>\n  )\n\n  render() {\n    return <>\n      <Navbar variant=\"dark\" style={{ backgroundColor: '#db3d44' }}>\n        <Navbar.Brand href=\"#home\">\n          <i className=\"fa fa-fw fa-check-square-o\" style={{ fontSize: '1em', marginLeft: 60 }} />\n          <span className='ml-2'>ToDo App</span>\n        </Navbar.Brand>\n        {this.state.token ?\n          <Navbar.Collapse className=\"justify-content-end\" onClick={() => this.logout()} style={{color: '#fff'}}>\n             <strong>Logout</strong><i className=\"fa fa-fw fa-sign-out\" style={{ fontSize: '1em', marginLeft: 5 }} />\n          </Navbar.Collapse>\n          : null\n        }\n\n      </Navbar>\n      {this.state.token ? this.showSideNavWithMain(this.props) : <LoginPage parent={this} />}\n    </>\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}