{"ast":null,"code":"var _jsxFileName = \"/Users/emskaplann/final_projects/04-module/to-do-app-frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport SideNavPage from './components/sub-components/SideNav.js';\nimport LoginPage from './components/main-components/LoginPage';\nimport DashBoard from './components/main-components/DashBoard.js';\nimport Projects from './components/main-components/Projects.js';\nimport Tasks from './components/main-components/Tasks.js';\nimport { Route, useParams, Switch } from 'react-router-dom';\nimport ProjectService from './services/ProjectService.js';\nimport TaskService from './services/TaskService.js';\nimport './App.css';\nimport { MainViewRenderProps } from './components/main-components/MainViewRenderProps.js';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.authProps = () => ({\n      token: this.state.token,\n      loggedInUserId: this.state.loggedInUserId\n    });\n\n    this.logout = () => {\n      localStorage.clear();\n      this.setState({\n        token: null,\n        loggedInUserId: null\n      });\n    };\n\n    this.fetchForFirstProjectId = () => {\n      fetch(\"https://arcane-sands-50858.herokuapp.com/users/\".concat(this.state.loggedInUserId, \"/projects\"), {\n        headers: {\n          \"Authorization\": this.state.token\n        }\n      }).then(response => {\n        if (response.status > 199 && response.status < 300) return response.json();\n        throw response.statusText;\n      }).then(projects => {\n        this.setState({\n          projects\n        });\n      }).catch(reason => console.log(reason));\n    };\n\n    this.showSideNavWithMain = ({\n      location,\n      history\n    }) => React.createElement(SideNavPage, {\n      location: location,\n      firstProjectId: this.state.projects[0].id,\n      history: history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      style: {\n        marginLeft: 75,\n        marginTop: 25\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/dashboard\",\n      exact: true,\n      component: props => React.createElement(MainViewRenderProps, {\n        children: DashBoard,\n        authProps: this.authProps(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/projects/:id\",\n      component: props => React.createElement(MainViewRenderProps, {\n        children: Projects,\n        id: useParams().id,\n        authProps: this.authProps(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }))));\n\n    this.state = {\n      token: null,\n      loggedInUserId: null,\n      projects: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      token: localStorage.token,\n      loggedInUserId: localStorage.userId\n    }, this.fetchForFirstProjectId);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n      variant: \"dark\",\n      style: {\n        backgroundColor: '#db3d44'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      href: \"#home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-fw fa-check-square-o\",\n      style: {\n        fontSize: '1em',\n        marginLeft: 60\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"ToDo App\")), this.state.token ? React.createElement(Navbar.Collapse, {\n      className: \"justify-content-end\",\n      onClick: () => this.logout(),\n      style: {\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"i\", {\n      className: \"fa fa-fw fa-sign-out\",\n      style: {\n        fontSize: '1em',\n        marginLeft: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })) : null), this.state.token && this.state.projects[0] ? this.showSideNavWithMain(this.props) : React.createElement(LoginPage, {\n      parent: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/emskaplann/final_projects/04-module/to-do-app-frontend/src/App.js"],"names":["React","Component","Navbar","Button","SideNavPage","LoginPage","DashBoard","Projects","Tasks","Route","useParams","Switch","ProjectService","TaskService","MainViewRenderProps","App","constructor","props","authProps","token","state","loggedInUserId","logout","localStorage","clear","setState","fetchForFirstProjectId","fetch","headers","then","response","status","json","statusText","projects","catch","reason","console","log","showSideNavWithMain","location","history","id","marginLeft","marginTop","componentDidMount","userId","render","backgroundColor","fontSize","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport SideNavPage from './components/sub-components/SideNav.js';\nimport LoginPage from './components/main-components/LoginPage';\nimport DashBoard from './components/main-components/DashBoard.js'\nimport Projects from './components/main-components/Projects.js'\nimport Tasks from './components/main-components/Tasks.js'\nimport { Route, useParams, Switch } from 'react-router-dom'\nimport ProjectService from './services/ProjectService.js'\nimport TaskService from './services/TaskService.js'\nimport './App.css';\nimport { MainViewRenderProps } from './components/main-components/MainViewRenderProps.js';\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      token: null,\n      loggedInUserId: null,\n      projects: []\n    }\n  }\n\n  authProps = () => ({ token: this.state.token, loggedInUserId: this.state.loggedInUserId })\n\n  componentDidMount() {\n    this.setState({\n      token: localStorage.token,\n      loggedInUserId: localStorage.userId\n    }, this.fetchForFirstProjectId)\n  }\n\n  logout = () => {\n    localStorage.clear()\n    this.setState({\n      token: null,\n      loggedInUserId: null\n    })\n  }\n\n  fetchForFirstProjectId = () => {\n      fetch(`https://arcane-sands-50858.herokuapp.com/users/${this.state.loggedInUserId}/projects`, {\n        headers: {\n          \"Authorization\": this.state.token\n        }\n      }).then(response => {\n        if (response.status > 199 && response.status < 300) return response.json()\n        throw response.statusText\n      }).then(projects => {\n        this.setState({ projects })\n      }).catch(reason => console.log(reason))\n  }\n\n  showSideNavWithMain = ({ location, history }) => (\n    <SideNavPage location={location} firstProjectId={this.state.projects[0].id} history={history}>\n      <main style={{ marginLeft: 75, marginTop: 25 }}>\n        <Switch>\n          <Route path=\"/dashboard\" exact component={props => <MainViewRenderProps children={DashBoard} authProps={this.authProps()} />} />\n          <Route path=\"/projects/:id\" component={props => <MainViewRenderProps children={Projects} id={useParams().id} authProps={this.authProps()} />} />\n          {/* <Route path=\"/tasks\" component={props => <MainViewRenderProps children={Tasks} authProps={this.authProps()} />} /> */}\n        </Switch>\n      </main>\n    </SideNavPage>\n  )\n\n  render() {\n    return <>\n      <Navbar variant=\"dark\" style={{ backgroundColor: '#db3d44' }}>\n        <Navbar.Brand href=\"#home\">\n          <i className=\"fa fa-fw fa-check-square-o\" style={{ fontSize: '1em', marginLeft: 60 }} />\n          <span className='ml-2'>ToDo App</span>\n        </Navbar.Brand>\n        {this.state.token ?\n          <Navbar.Collapse className=\"justify-content-end\" onClick={() => this.logout()} style={{color: '#fff'}}>\n             <strong>Logout</strong><i className=\"fa fa-fw fa-sign-out\" style={{ fontSize: '1em', marginLeft: 5 }} />\n          </Navbar.Collapse>\n          : null\n        }\n\n      </Navbar>\n      {this.state.token && this.state.projects[0] ? this.showSideNavWithMain(this.props) : <LoginPage parent={this} />}\n    </>\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}