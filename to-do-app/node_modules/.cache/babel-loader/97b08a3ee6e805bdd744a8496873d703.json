{"ast":null,"code":"import _toConsumableArray from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";var ChecklistService=function ChecklistService(component){var _this=this;_classCallCheck(this,ChecklistService);this.fetchChecklists=function(taskId){fetch(\"https://arcane-sands-50858.herokuapp.com/tasks/\".concat(taskId,\"/checklists\"),{headers:{\"Authorization\":_this.component.props.authProps.token}}).then(function(r){return r.json();}).then(function(checklists){_this.component.setState({checklists:checklists});});};this.createChecklist=function(taskId,checklist){fetch(\"https://arcane-sands-50858.herokuapp.com/tasks/\".concat(taskId,\"/checklists\"),{//eslint-disable-line \nmethod:'POST',headers:{\"Authorization\":_this.component.props.authProps.token,'content-type':'application/json',Accept:'application/json'},body:JSON.stringify({checklist:checklist})}).then(function(response){return response.json();}).then(function(checklist){_this.component.setState({checklists:[].concat(_toConsumableArray(_this.component.state.checklists),[checklist])});});};this.component=component;};export{ChecklistService as default};","map":{"version":3,"sources":["/Users/emskaplann/final_projects/03-module/emskaplann.github.io/to-do-app/src/services/ChecklistService.js"],"names":["ChecklistService","component","fetchChecklists","taskId","fetch","headers","props","authProps","token","then","r","json","checklists","setState","createChecklist","checklist","method","Accept","body","JSON","stringify","response","state"],"mappings":"qUAAqBA,CAAAA,gB,CACnB,0BAAYC,SAAZ,CAAuB,4DAIvBC,eAJuB,CAIL,SAAAC,MAAM,CAAI,CAC1BC,KAAK,0DAAmDD,MAAnD,gBAAwE,CAC3EE,OAAO,CAAE,CACP,gBAAiB,KAAI,CAACJ,SAAL,CAAeK,KAAf,CAAqBC,SAArB,CAA+BC,KADzC,CADkE,CAAxE,CAAL,CAKGC,IALH,CAKQ,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,EAAJ,EALT,EAMGF,IANH,CAMQ,SAAAG,UAAU,CAAI,CAClB,KAAI,CAACX,SAAL,CAAeY,QAAf,CAAwB,CAAED,UAAU,CAAVA,UAAF,CAAxB,EACD,CARH,EASD,CAdsB,MAgBvBE,eAhBuB,CAgBL,SAACX,MAAD,CAASY,SAAT,CAAuB,CACvCX,KAAK,0DAAmDD,MAAnD,gBAAwE,CAAE;AAC7Ea,MAAM,CAAE,MADmE,CAE3EX,OAAO,CAAE,CACP,gBAAiB,KAAI,CAACJ,SAAL,CAAeK,KAAf,CAAqBC,SAArB,CAA+BC,KADzC,CAEP,eAAgB,kBAFT,CAGPS,MAAM,CAAE,kBAHD,CAFkE,CAO3EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,SAAS,CAATA,SADmB,CAAf,CAPqE,CAAxE,CAAL,CAWGN,IAXH,CAWQ,SAAAY,QAAQ,QAAIA,CAAAA,QAAQ,CAACV,IAAT,EAAJ,EAXhB,EAYGF,IAZH,CAYQ,SAAAM,SAAS,CAAI,CACjB,KAAI,CAACd,SAAL,CAAeY,QAAf,CAAwB,CACtBD,UAAU,8BAAM,KAAI,CAACX,SAAL,CAAeqB,KAAf,CAAqBV,UAA3B,GAAuCG,SAAvC,EADY,CAAxB,EAGD,CAhBH,EAiBD,CAlCsB,CACrB,KAAKd,SAAL,CAAiBA,SAAjB,CACD,C,QAHkBD,gB","sourcesContent":["export default class ChecklistService {\n  constructor(component) {\n    this.component = component\n  }\n\n  fetchChecklists = taskId => {\n    fetch(`https://arcane-sands-50858.herokuapp.com/tasks/${taskId}/checklists`, {\n      headers: {\n        \"Authorization\": this.component.props.authProps.token\n      }\n    })\n      .then(r => r.json())\n      .then(checklists => {\n        this.component.setState({ checklists })\n      })\n  }\n\n  createChecklist = (taskId, checklist) => {\n    fetch(`https://arcane-sands-50858.herokuapp.com/tasks/${taskId}/checklists`, { //eslint-disable-line \n      method: 'POST',\n      headers: {\n        \"Authorization\": this.component.props.authProps.token,\n        'content-type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        checklist\n      })\n    })\n      .then(response => response.json())\n      .then(checklist => {\n        this.component.setState({\n          checklists: [...this.component.state.checklists, checklist]\n        })\n      })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}